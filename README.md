# 11-microservices-01-intro.md

## Задача

Руководство крупного интернет-магазина, у которого постоянно растёт пользовательская база и количество заказов, рассматривает возможность переделки своей внутренней   ИТ-системы на основе микросервисов. 

Вас пригласили в качестве консультанта для оценки целесообразности перехода на микросервисную архитектуру. 

Опишите, какие выгоды может получить компания от перехода на микросервисную архитектуру и какие проблемы нужно решить в первую очередь.


### Решение

Переход на микросервисы несет в себе множество положительных качеств, но если не произвести расчетов и планирования, можно потерять много ресурсов, не получив при этом эти качества.
 В первую очередь нужно изучить текущую команду поддержки сайта, смогут ли они перейти на новую модель разработки. Затем нужно рассмотреть насколько сильно нагружен текущий сайт в пике, чтобы определить как много ресурсов должно выделятся на каждый мс и какие узкие места в текущей архитектуре проекта.
 Из главных преймуществ перехода можно выделить
  - Возможность масшатбирования инфраструктуры на время праздников, например перед новым годом, и сразу уменьшать ее, когда посещения снижаются
  - Так как инфраструктуру в теории можно увеличивать бесконечно, то падения сайтов во время пиков можно предотвратить
  - Если магазин планирует быть международным, то для каждого региона можно иметь свой сайт с мин количеством доработок, это также повысит uptime системы
  - Так как микросервисы не зависимы друг от друга, проще дорабатывать отдельные элементы, наприме обновить главную страницу и добавить туда баннер о распродаже, или закрыть уязвимость в бд
  - Модульность микросервисов позволяет сделать приложение под моб. устройство, и оно будет использовать часть мс от веб сайта. при монолитной системе это сделать сложнее, так как она могла быть для этого не расчитана
  - Позволяет добавлять новые мс при этом не затрагивая старые

На что стоит обратит внимание при переходе

 - Нужно поделить зоны разработки на текущий отдел поддержки
 - Создать схему текущего монолитного решения и на основе ее создать архитектуру, которая реально будет иметь требуемые преймущества
 - Сделать план перехода с одной архитектуры на другую при минимальном down time. Например сделать сначала для мобильных устройств приложения после успешного тестирования, дать возможность клиентам выбрать новую версию сайта в браузере, после успешного тестирования выводит legacy из эксплуатации.
 - Выбрать провайдера микросервисов который хорошо показал себя на рынке, например yandex cloud, старый провайдер может не иметь продвинутого функционала в этом плане. Либо разворачивать самостоятельно внутри vps, но это снизит скорость масштабирования инфраструктуры
 - Перед вводом в эксплуатацию желательно тчательно проверить безопасность каждого мс
 - Наладить автоматизированую систему мониторинга сервисов, чтобы сервисы автоматически добавлялись и убирались с нее
 - Разработать скрипты управляения этой инфраструктурой без ручного вмешательства человека, например выполнив скрипт, с помощью api добавляются дополнительный кластер балансировщика и нескольких вебсерверов, которые сами добавляются в текущую инфраструктуру без каких либо настроек.
Если сделать данные условия это позволит повысить прибыль магазина в пиковые часы, когда делаются большинство покупок, а значит окупит себя довольно быстро. Также сайты которые не падают вызывают больше доверия у покупателей и инвесторов. Также это позволит в будущем без проблем расти бизнесу без изменений в инфраструктуре.
